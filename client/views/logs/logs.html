<template name="logs">
  <div class="row">
    <div class="col s12 m8">
      <h3>Event Log Viewer</h3>
    </div>
    <div class="col s12 m4 right-align">
      <div class="section">
        <div class="btn red delete-all">Delete all</div>
      </div>
    </div>
  </div>

  <div class="section">
    {{> logViewer}}
  </div>

</template>

<template name="logViewer">

  <div class="row">
    <div class="input-field col s12">
      <input id="searchLogs" type="text">
      <label for="searchLogs" class="">Search Logs</label>
    </div>
  </div>
  <div class="row">
    <table>
      <thead>
        <tr>
          <th>Time</th>
          <th>Event</th>
          <th colspan="100">Data</th>
        </tr>
      </thead>
      <tbody>
        {{#each logs}}
          <tr>
            <td>{{formatDateTime createdAt}}</td>
            <td>{{type}}</td>
            {{#if data.user}}
              <td>{{data.method}}</td>
              <td>
                <a href="{{pathFor 'user' _userId=data.user._id}}">
                  {{#if data.user.name}}
                    {{data.user.name}}
                  {{else}}
                    [No Name]
                  {{/if}}
                </a>
              </td>
            {{/if}}
          </tr>
        {{/each}}
      </tbody>
    </table>
  </div>
</template>
